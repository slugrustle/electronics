Version 4
SHEET 1 4828 5424
WIRE 192 -1808 128 -1808
WIRE 240 -1808 192 -1808
WIRE 608 -1808 544 -1808
WIRE 656 -1808 608 -1808
WIRE 128 -1776 128 -1808
WIRE 544 -1776 544 -1808
WIRE 128 -1664 128 -1696
WIRE 544 -1664 544 -1696
WIRE 864 -1488 832 -1488
WIRE 880 -1488 864 -1488
WIRE 832 -1456 832 -1488
WIRE 1280 -1424 928 -1424
WIRE 1424 -1424 1360 -1424
WIRE 1472 -1424 1424 -1424
WIRE 832 -1360 832 -1376
WIRE 928 -1360 928 -1424
WIRE 928 -1360 832 -1360
WIRE 960 -1360 928 -1360
WIRE 1072 -1360 1040 -1360
WIRE 1120 -1360 1072 -1360
WIRE 1184 -1360 1120 -1360
WIRE 1792 -1360 1728 -1360
WIRE 1920 -1360 1792 -1360
WIRE 1984 -1360 1920 -1360
WIRE 2080 -1360 1984 -1360
WIRE 2240 -1360 2080 -1360
WIRE 2448 -1360 2240 -1360
WIRE 832 -1344 832 -1360
WIRE 2448 -1344 2448 -1360
WIRE 1072 -1328 1072 -1360
WIRE 1920 -1328 1920 -1360
WIRE 1984 -1328 1984 -1360
WIRE 2080 -1328 2080 -1360
WIRE 2240 -1312 2240 -1360
WIRE 1728 -1264 1728 -1360
WIRE 832 -1232 832 -1264
WIRE 1072 -1232 1072 -1264
WIRE 2448 -1232 2448 -1264
WIRE 2448 -1232 2416 -1232
WIRE 2464 -1232 2448 -1232
WIRE 1920 -1216 1920 -1264
WIRE 1920 -1216 1792 -1216
WIRE 1984 -1216 1984 -1248
WIRE 1984 -1216 1920 -1216
WIRE 2080 -1216 2080 -1264
WIRE 2080 -1216 1984 -1216
WIRE 2144 -1216 2080 -1216
WIRE 2416 -1216 2416 -1232
WIRE 2464 -1216 2464 -1232
WIRE 2144 -1184 2144 -1216
WIRE 800 -1168 688 -1168
WIRE 896 -1168 800 -1168
WIRE 1296 -1152 1280 -1152
WIRE 1328 -1152 1296 -1152
WIRE 1424 -1152 1392 -1152
WIRE 688 -1136 688 -1168
WIRE 896 -1136 896 -1168
WIRE 1728 -1136 1728 -1168
WIRE 2416 -1136 2416 -1152
WIRE 2448 -1136 2416 -1136
WIRE 2464 -1136 2464 -1152
WIRE 2464 -1136 2448 -1136
WIRE 1424 -1120 1424 -1152
WIRE 1280 -1088 1280 -1152
WIRE 2144 -1088 2144 -1104
WIRE 2240 -1088 2240 -1232
WIRE 2240 -1088 2144 -1088
WIRE 2352 -1088 2240 -1088
WIRE 2448 -1088 2448 -1136
WIRE 2448 -1088 2352 -1088
WIRE 2144 -1072 2144 -1088
WIRE 288 -1040 224 -1040
WIRE 336 -1040 288 -1040
WIRE 1184 -1040 1184 -1360
WIRE 1216 -1040 1184 -1040
WIRE 1472 -1024 1472 -1424
WIRE 1472 -1024 1392 -1024
WIRE 1488 -1024 1472 -1024
WIRE 1600 -1024 1552 -1024
WIRE 1728 -1024 1728 -1056
WIRE 1728 -1024 1680 -1024
WIRE 1824 -1024 1728 -1024
WIRE 1936 -1024 1824 -1024
WIRE 2048 -1024 1936 -1024
WIRE 2080 -1024 2048 -1024
WIRE 224 -1008 224 -1040
WIRE 688 -1008 688 -1056
WIRE 784 -1008 688 -1008
WIRE 896 -1008 896 -1072
WIRE 896 -1008 784 -1008
WIRE 928 -1008 896 -1008
WIRE 1040 -1008 1008 -1008
WIRE 1088 -1008 1040 -1008
WIRE 1216 -1008 1088 -1008
WIRE 688 -992 688 -1008
WIRE 1728 -992 1728 -1024
WIRE 1824 -992 1824 -1024
WIRE 2048 -992 2048 -1024
WIRE 896 -976 896 -1008
WIRE 1040 -976 1040 -1008
WIRE 1280 -928 1280 -960
WIRE 224 -896 224 -928
WIRE 1728 -896 1728 -928
WIRE 1824 -896 1824 -912
WIRE 1824 -896 1728 -896
WIRE 2048 -896 2048 -928
WIRE 2048 -896 1824 -896
WIRE 2144 -896 2144 -976
WIRE 2144 -896 2048 -896
WIRE 688 -880 688 -912
WIRE 896 -880 896 -912
WIRE 1040 -880 1040 -912
WIRE 1824 -880 1824 -896
WIRE 3248 -704 3232 -704
WIRE 3280 -704 3248 -704
WIRE 3376 -704 3344 -704
WIRE 3680 -704 3664 -704
WIRE 3696 -704 3680 -704
WIRE 3776 -704 3760 -704
WIRE 3776 -688 3776 -704
WIRE 864 -672 832 -672
WIRE 880 -672 864 -672
WIRE 3376 -672 3376 -704
WIRE 832 -640 832 -672
WIRE 3232 -624 3232 -704
WIRE 3664 -624 3664 -704
WIRE 1280 -608 928 -608
WIRE 1424 -608 1360 -608
WIRE 1472 -608 1424 -608
WIRE 3472 -608 3376 -608
WIRE 3584 -608 3472 -608
WIRE 2944 -576 2928 -576
WIRE 2976 -576 2944 -576
WIRE 3088 -576 3056 -576
WIRE 3184 -576 3088 -576
WIRE 3408 -576 3328 -576
WIRE 3584 -576 3408 -576
WIRE 3808 -576 3744 -576
WIRE 3872 -576 3808 -576
WIRE 832 -544 832 -560
WIRE 928 -544 928 -608
WIRE 928 -544 832 -544
WIRE 960 -544 928 -544
WIRE 1072 -544 1040 -544
WIRE 1120 -544 1072 -544
WIRE 1184 -544 1120 -544
WIRE 1792 -544 1728 -544
WIRE 1920 -544 1792 -544
WIRE 1984 -544 1920 -544
WIRE 2080 -544 1984 -544
WIRE 2240 -544 2080 -544
WIRE 2448 -544 2240 -544
WIRE 2928 -544 2928 -576
WIRE 3088 -544 3088 -576
WIRE 3472 -544 3376 -544
WIRE 3584 -544 3472 -544
WIRE 832 -528 832 -544
WIRE 2448 -528 2448 -544
WIRE 1072 -512 1072 -544
WIRE 1920 -512 1920 -544
WIRE 1984 -512 1984 -544
WIRE 2080 -512 2080 -544
WIRE 2240 -496 2240 -544
WIRE 3232 -496 3232 -528
WIRE 3664 -496 3664 -528
WIRE 1728 -448 1728 -544
WIRE 2928 -432 2928 -464
WIRE 3088 -432 3088 -464
WIRE 832 -416 832 -448
WIRE 1072 -416 1072 -448
WIRE 2448 -416 2448 -448
WIRE 2448 -416 2416 -416
WIRE 2464 -416 2448 -416
WIRE 1920 -400 1920 -448
WIRE 1920 -400 1792 -400
WIRE 1984 -400 1984 -432
WIRE 1984 -400 1920 -400
WIRE 2080 -400 2080 -448
WIRE 2080 -400 1984 -400
WIRE 2144 -400 2080 -400
WIRE 2416 -400 2416 -416
WIRE 2464 -400 2464 -416
WIRE 2144 -368 2144 -400
WIRE 800 -352 688 -352
WIRE 896 -352 800 -352
WIRE 1296 -336 1280 -336
WIRE 1328 -336 1296 -336
WIRE 1424 -336 1392 -336
WIRE 688 -320 688 -352
WIRE 896 -320 896 -352
WIRE 1728 -320 1728 -352
WIRE 2416 -320 2416 -336
WIRE 2448 -320 2416 -320
WIRE 2464 -320 2464 -336
WIRE 2464 -320 2448 -320
WIRE 1424 -304 1424 -336
WIRE 1280 -272 1280 -336
WIRE 2144 -272 2144 -288
WIRE 2240 -272 2240 -416
WIRE 2240 -272 2144 -272
WIRE 2352 -272 2240 -272
WIRE 2448 -272 2448 -320
WIRE 2448 -272 2352 -272
WIRE 2144 -256 2144 -272
WIRE 288 -224 224 -224
WIRE 336 -224 288 -224
WIRE 1184 -224 1184 -544
WIRE 1216 -224 1184 -224
WIRE 1472 -208 1472 -608
WIRE 1472 -208 1392 -208
WIRE 1488 -208 1472 -208
WIRE 1600 -208 1552 -208
WIRE 1728 -208 1728 -240
WIRE 1728 -208 1680 -208
WIRE 1824 -208 1728 -208
WIRE 1968 -208 1824 -208
WIRE 2048 -208 1968 -208
WIRE 2080 -208 2048 -208
WIRE 224 -192 224 -224
WIRE 688 -192 688 -240
WIRE 784 -192 688 -192
WIRE 896 -192 896 -256
WIRE 896 -192 784 -192
WIRE 928 -192 896 -192
WIRE 1040 -192 1008 -192
WIRE 1088 -192 1040 -192
WIRE 1216 -192 1088 -192
WIRE 688 -176 688 -192
WIRE 1728 -176 1728 -208
WIRE 1824 -176 1824 -208
WIRE 2048 -176 2048 -208
WIRE 896 -160 896 -192
WIRE 1040 -160 1040 -192
WIRE 1280 -112 1280 -144
WIRE 224 -80 224 -112
WIRE 1728 -80 1728 -112
WIRE 1824 -80 1824 -96
WIRE 1824 -80 1728 -80
WIRE 2048 -80 2048 -112
WIRE 2048 -80 1824 -80
WIRE 2144 -80 2144 -160
WIRE 2144 -80 2048 -80
WIRE 688 -64 688 -96
WIRE 896 -64 896 -96
WIRE 1040 -64 1040 -96
WIRE 1824 -64 1824 -80
FLAG 128 -1664 0
FLAG 192 -1808 5V
FLAG 288 -224 Res_NMOS_NTC
FLAG 224 -80 0
FLAG 800 -352 3V3
FLAG 688 -64 0
FLAG 896 -64 0
FLAG 1040 -64 0
FLAG 1280 -112 0
FLAG 1424 -304 0
FLAG 1296 -336 3V3
FLAG 832 -416 0
FLAG 864 -672 3V3
FLAG 1072 -416 0
FLAG 1424 -608 OT_NMOS
FLAG 288 -1040 Res_DIODE_NTC
FLAG 224 -896 0
FLAG 800 -1168 3V3
FLAG 688 -880 0
FLAG 896 -880 0
FLAG 1040 -880 0
FLAG 1280 -928 0
FLAG 1424 -1120 0
FLAG 1296 -1152 3V3
FLAG 832 -1232 0
FLAG 864 -1488 3V3
FLAG 1072 -1232 0
FLAG 1424 -1424 OT_DIODE
FLAG 1824 -64 0
FLAG 1792 -544 5V
FLAG 1824 -880 0
FLAG 1792 -1360 5V
FLAG 2352 -1088 ~DIODE_LATCH
FLAG 2352 -272 ~NMOS_LATCH
FLAG 2928 -432 0
FLAG 3088 -432 0
FLAG 3232 -496 0
FLAG 3248 -704 3V3
FLAG 3376 -672 0
FLAG 2944 -576 Vin
FLAG 3408 -576 NMOS_CMD
FLAG 3472 -608 ~DIODE_LATCH
FLAG 3472 -544 ~NMOS_LATCH
FLAG 3664 -496 0
FLAG 3776 -688 0
FLAG 3680 -704 3V3
FLAG 3808 -576 NMOS_ON
FLAG 784 -1008 DIODE_NTC
FLAG 784 -192 NMOS_NTC
FLAG 1088 -192 NMOS_INN
FLAG 1120 -544 NMOS_INP
FLAG 1968 -208 NMOS_b
FLAG 1088 -1008 DIODE_INN
FLAG 1120 -1360 DIODE_INP
FLAG 1936 -1024 DIODE_b
FLAG 544 -1664 0
FLAG 608 -1808 3V3
SYMBOL diode 2064 -112 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value Dbas16lt1g
SYMBOL diode 912 -256 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value DI_BAV199
SYMBOL npn 2080 -256 R0
SYMATTR InstName Q1
SYMATTR Value Qmmbt3904lt1g
SYMBOL pnp 1792 -352 R180
SYMATTR InstName Q2
SYMATTR Value Qmmbt3906lt1
SYMBOL LED 2448 -400 R0
SYMATTR InstName D3
SYMATTR Value APT2012SURCK
SYMBOL diode 1936 -448 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value Dbas16lt1g
SYMBOL diode 2432 -336 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMATTR Value Dbas16lt1g
SYMBOL diode 912 -96 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D10
SYMATTR Value DI_BAV199
SYMBOL voltage 128 -1792 R0
WINDOW 3 -46 170 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5 1m 30m 1u 1G 1G 1)
SYMATTR InstName V1
SYMBOL SN74LVC1G17 3232 -576 R0
WINDOW 3 107 90 Center 2
SYMATTR InstName U1
SYMBOL SN74LVC1G11 3648 -576 R0
SYMATTR InstName U2
SYMBOL LMV761 1296 -208 R0
SYMATTR InstName U3
SYMBOL bv 688 -192 R0
WINDOW 0 -74 37 Left 2
WINDOW 3 -423 91 Left 2
SYMATTR InstName B1
SYMATTR Value V=uramp(I(B1)*V(Res_NMOS_NTC))
SYMBOL voltage 224 -208 R0
WINDOW 0 -66 31 Left 2
WINDOW 3 -329 81 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value SINE(5k 4.95k 0.1 0 0 90 1G)
SYMBOL res 672 -336 R0
SYMATTR InstName R2
SYMATTR Value 523
SYMBOL res 1024 -208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL cap 1024 -160 R0
SYMATTR InstName C4
SYMATTR Value 1µ
SYMBOL cap 1392 -352 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 100n
SYMBOL res 816 -656 R0
SYMATTR InstName R4
SYMATTR Value 523
SYMBOL res 816 -544 R0
SYMATTR InstName R5
SYMATTR Value 523
SYMBOL res 1056 -560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL cap 1056 -512 R0
SYMATTR InstName C6
SYMATTR Value 4.7µ
SYMBOL res 1376 -624 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 7.5k
SYMBOL diode 912 -1072 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D11
SYMATTR Value DI_BAV199
SYMBOL diode 912 -912 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D12
SYMATTR Value DI_BAV199
SYMBOL LMV761 1296 -1024 R0
SYMATTR InstName U4
SYMBOL bv 688 -1008 R0
WINDOW 0 -74 37 Left 2
WINDOW 3 -419 89 Left 2
SYMATTR InstName B2
SYMATTR Value V=uramp(I(B2)*V(Res_DIODE_NTC))
SYMBOL voltage 224 -1024 R0
WINDOW 0 -66 31 Left 2
WINDOW 3 -329 81 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value SINE(5k 4.95k 0.1 0 0 0 1G)
SYMBOL res 672 -1152 R0
SYMATTR InstName R8
SYMATTR Value 523
SYMBOL res 1024 -1024 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL cap 1024 -976 R0
SYMATTR InstName C7
SYMATTR Value 1µ
SYMBOL cap 1392 -1168 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value 100n
SYMBOL res 816 -1472 R0
SYMATTR InstName R10
SYMATTR Value 523
SYMBOL res 816 -1360 R0
SYMATTR InstName R11
SYMATTR Value 523
SYMBOL res 1056 -1376 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 10k
SYMBOL cap 1056 -1328 R0
SYMATTR InstName C9
SYMATTR Value 4.7µ
SYMBOL res 1376 -1440 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 7.5k
SYMBOL res 1808 -192 R0
SYMATTR InstName R14
SYMATTR Value 33k
SYMBOL cap 1712 -176 R0
SYMATTR InstName C10
SYMATTR Value 100n
SYMBOL res 1712 -336 R0
SYMATTR InstName R15
SYMATTR Value 6.2k
SYMBOL res 2128 -384 R0
SYMATTR InstName R16
SYMATTR Value 43k
SYMBOL res 1968 -528 R0
SYMATTR InstName R17
SYMATTR Value 33k
SYMBOL res 1696 -224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 2.7k
SYMBOL cap 2064 -512 R0
SYMATTR InstName C11
SYMATTR Value 100n
SYMBOL res 2432 -544 R0
SYMATTR InstName R19
SYMATTR Value 620
SYMBOL res 2224 -512 R0
SYMATTR InstName R20
SYMATTR Value 10k
SYMBOL diode 2064 -928 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D6
SYMATTR Value Dbas16lt1g
SYMBOL npn 2080 -1072 R0
SYMATTR InstName Q3
SYMATTR Value Qmmbt3904lt1g
SYMBOL pnp 1792 -1168 R180
SYMATTR InstName Q4
SYMATTR Value Qmmbt3906lt1
SYMBOL LED 2448 -1216 R0
SYMATTR InstName D7
SYMATTR Value APT2012SURCK
SYMBOL diode 1936 -1264 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D8
SYMATTR Value Dbas16lt1g
SYMBOL diode 2432 -1152 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D9
SYMATTR Value Dbas16lt1g
SYMBOL res 1808 -1008 R0
SYMATTR InstName R1
SYMATTR Value 33k
SYMBOL cap 1712 -992 R0
SYMATTR InstName C12
SYMATTR Value 100n
SYMBOL res 1712 -1152 R0
SYMATTR InstName R21
SYMATTR Value 6.2k
SYMBOL res 2128 -1200 R0
SYMATTR InstName R22
SYMATTR Value 43k
SYMBOL res 1968 -1344 R0
SYMATTR InstName R23
SYMATTR Value 33k
SYMBOL res 1696 -1040 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 2.7k
SYMBOL cap 2064 -1328 R0
SYMATTR InstName C13
SYMATTR Value 100n
SYMBOL res 2432 -1360 R0
SYMATTR InstName R25
SYMATTR Value 620
SYMBOL res 2224 -1328 R0
SYMATTR InstName R26
SYMATTR Value 10k
SYMBOL voltage 2928 -560 R0
WINDOW 0 -70 33 Left 2
WINDOW 3 -316 103 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value SINE(2.5 2.5 10 40m 0 -90 1G)
SYMBOL res 3072 -592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value 22
SYMBOL res 3072 -560 R0
SYMATTR InstName R28
SYMATTR Value 100k
SYMBOL cap 3344 -720 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C14
SYMATTR Value 100n
SYMBOL cap 3760 -720 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C15
SYMATTR Value 100n
SYMBOL schottky 1488 -192 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D13
SYMATTR Value DI_BAS70
SYMBOL schottky 1488 -1008 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D14
SYMATTR Value DI_BAS70
SYMBOL bv 544 -1792 R0
SYMATTR InstName B3
SYMATTR Value V=uramp(min(V(5V)-1,3.3))
TEXT -64 176 Left 2 !.MODEL Dbas16lt1g d\n+IS=1.28771e-09 RS=1.12591 N=1.7545 EG=1.07278\n+XTI=5 BV=122.915 IBV=0.0908337 CJO=6.06355e-13\n+VJ=0.995702 M=0.088819 FC=0.5 TT=5.13138e-09\n+KF=0 AF=1
TEXT -64 360 Left 2 !.MODEL DI_BAV199 D  ( IS=59.0p RS=0.262 BV=85.0 IBV=5.00n\n+ CJO=2.00p  M=0.333 N=1.78 TT=4.32u )
TEXT -64 448 Left 2 !.MODEL Qmmbt3904lt1g npn\n+IS=2.04959e-14 BF=363.202 NF=1.04474 VAF=10\n+IKF=0.0238161 ISE=4.06917e-14 NE=1.46344 BR=1.88131\n+NR=1.02127 VAR=87.0198 IKR=0.238161 ISC=4.06917e-14\n+NC=3.87411 RB=10.62 IRB=24.2417 RBM=10.62\n+RE=0.0189075 RC=0.833881 XTB=0.794336 XTI=1\n+EG=1.206 CJE=5.01193e-12 VJE=0.4 MJE=0.308747\n+TF=4.90228e-10 XTF=9.95281 VTF=0.230247 ITF=0.212393\n+CJC=3.75788e-12 VJC=0.4 MJC=0.236094 XCJC=1\n+FC=0.8 CJS=0 VJS=0.75 MJS=0.5\n+TR=1e-07 PTF=0 KF=0 AF=1
TEXT -64 800 Left 2 !.MODEL Qmmbt3906lt1 pnp\n+IS=8.10417e-16 BF=1000 NF=0.997564 VAF=10\n+IKF=0.0845798 ISE=3.95828e-15 NE=1.34369 BR=100\n+NR=0.918771 VAR=1.28138 IKR=0.845798 ISC=3.95828e-15\n+NC=3.99999 RB=0.1 IRB=0.1 RBM=0.1\n+RE=0.0001 RC=1.07833 XTB=0.1 XTI=1\n+EG=1.05 CJE=5.90332e-12 VJE=0.489541 MJE=0.233176\n+TF=4.65245e-10 XTF=0.996431 VTF=9.95238 ITF=0.0100425\n+CJC=6.27116e-12 VJC=0.509649 MJC=0.236039 XCJC=0.9\n+FC=0.499933 CJS=0 VJS=0.75 MJS=0.5\n+TR=4.39203e-09 PTF=0 KF=0 AF=1
TEXT 656 168 Left 2 !.SUBCKT LMV761 INP INN VCC VEE OUT\nX_IV2        N5   VDD   FGND N6 INV_TANH PARAMS: VTH=0.5\nR_Rinn       INN  INN1  1  \nE_Ecmrr2     NT2  INN   INP  INN 0.5\nX_UVCLP      VCC  FGND  N8   N9 VIMON FGND VCLAMP_W_SENSE PARAMS: VMAXIO=0.1\n+  VMINIO=0.1 SLOPE=0\nX_UCDT       N6A  CDT   DELAY_LINE\nX_Upsrr      NT3  FGND  INN1 INN2 VCVS_LIMIT PARAMS: GAIN=-1 VPOS=20M\n+  VNEG=-20M\nX_U4         N4   INN3  Ddefault \nX_U8         N10  OUT   VIMON FGND AMETER PARAMS: GAIN=1\nC_Cinp       FGND INP1  200f   \nR_Rcdt       FGND CDT   75  \nV_Vi3        VDD  0     1Vdc\nC_Cinn       FGND INN1  200f   \nR_Ra         NT2  NT1   1  \nX_IV3        CDT  VCC   FGND N7 INV_TANH PARAMS: VTH=0.5\nX_U2         INN3 N3    Ddefault \nV_Vi1        VCC  N3    1.89Vdc\nX_IV4        N7   VCC   FGND N8 INV_TANH PARAMS: VTH=0.5\nC_C1         FGND N6A   1n   \nX_UIQ        VCC  VEE   VCC_BUF VEE_BUF VCCS_IQ\nV_Vi2        N4   VEE   0.4Vdc\nR_R1         N6   N6A   14  \nX_Ug2        AV1  FGND  FGND AV2 VCCS_LIMIT PARAMS: GAIN=1e-3 IPOS=100m\n+  INEG=-100m\nX_UICL       N9   N10   CURLIM PARAMS: RX=1e-3 IMAX=25M IMIN=-18M\nV_Vos        INP1 INP_CMRR 221uVdc\nR_Rpsr       NT3  N1    1  \nV_Vgnd       FGND 0     0uVdc\nR_Rgain2     FGND AV2   1G  \nL_Lpsr       N1   FGND  2uH  \nX_U3         N4   INP_CMRR Ddefault \nI_IIB+       VCC  INP_CMRR DC 1.3pAdc  \nI_IIB+1      INN1 VEE   DC 1.3pAdc  \nE_E1         VCC_BUF   FGND VCC FGND 1\nG_G2         FGND NT3   VCC  VEE 3.2u\nX_IV1        AV2  VDD   FGND N5  INV_TANH PARAMS: VTH=0.5\nX_U1         INP_CMRR   N3   Ddefault \nE_Ecmrr1     INN2 INN3  NT1  FGND 10u\nR_Rinp       INP  INP1  1  \nE_E2         VEE_BUF    FGND VEE  FGND 1\nX_Ug1        INP_CMRR   INN3 FGND AV1 VCCS_LIMIT PARAMS: GAIN=10 IPOS=0.5\n+  INEG=-0.5\nR_Rgain1     FGND AV1   1e8  \n.ENDS LMV761\n*$\n*\n.subckt Ddefault A C\nD1 A C DNOM\n.MODEL DNOM D IS=8.000E-16   RS=1e-3  BV=16\n.ENDS Ddefault\n*$\n*\n.subckt VCVS_Limit VCP VCN VOUTP VOUTN PARAMS: Gain = -1\n+ Vpos = 20m Vneg = -20m\nE1 VOUTP VOUTN VALUE={LIMIT(Gain*V(VCP,VCN),Vpos,Vneg)}\n.ends VCVS_Limit\n*$\n*\n.subckt VCCS_Limit VCP VCN IOUTP IOUTN PARAMS: Gain = 1.0e-3\n+ Ipos = 0.100 Ineg = -0.100\nG1 IOUTP IOUTN VALUE={LIMIT(Gain*V(VCP,VCN),Ipos,Ineg)}\n.ends VCCS_Limit\n*$\n*\n.SUBCKT VCCS_IQ  VCP VCN IOUTP IOUTN              \n.PARAM GAIN = 0.5\n* SLOPE IN UA/V\n.PARAM SLOPE_IQVSVS = -21.7\n.PARAM VSK = 1\n.PARAM IQK = 275\n.PARAM C = {IQK}\n.PARAM SLOPE_IQVST = 0.2857\nE1 1   2   VALUE={SLOPE_IQVSVS*(V(VCP,VCN)-2.7) + C}\nE2 2   3   VALUE={SLOPE_IQVST*(TEMP-27)}\nR  3   0   1G\nG1 VCP VCN 1 3 1E-6\n.ENDS VCCS_IQ\n*\n.SUBCKT INV_TANH  IN VDD VEE Y PARAMS:  VTH=0.5 \nE_ABM Y 0 VALUE = {((V(VDD)+V(VEE))/2)-((V(VDD)-V(VEE))/2)*TANH(10E12*(V(IN)-VTH))}\n.ENDS INV_TANH\n*$\n*\n.SUBCKT DELAY_LINE VI VO \nE1 VIX 0 VI  0 1 \nT1 VIX 0 VOX 0 Z0 = 75 TD = 120NS\nRL VOX 0 75\nE2 VO  0 VOX 0 1\n.ENDS DELAY_LINE\n*$\n*\n.SUBCKT VCLAMP_W_SENSE   VCC  VEE  VI  VO VIMON  GNDF\n+ PARAMS: VMAXIO = 0.1 VMINIO = 0.1 SLOPE = 20\nEPCLIP  VCC_CLP 0 VALUE = {V(VCC,GNDF) - SLOPE*V(VIMON,GNDF) - VMAXIO}\nENCLIP  VEE_CLP 0 VALUE = {V(VEE,GNDF) - SLOPE*V(VIMON,GNDF) + VMINIO}\nECLAMP  VO GNDF VALUE = {LIMIT(V(VI,GNDF), V(VCC_CLP), V(VEE_CLP))}\n.ENDS VCLAMP_W_SENSE\n*$\n*\n.SUBCKT CURLIM  P  N  PARAMS: Rx = 1K  IMAX = 10M  IMIN = -10M\nGRES  P N VALUE = {LIMIT(V(P,N)/Rx, IMAX, IMIN)}\n.ENDS CURLIM\n*$\n*\n.SUBCKT AMETER   VI  VO VIMON GNDF\n+ PARAMS: GAIN = 1\nVSENSE VI    VO   DC = 0\nEMETER VIMON GNDF VALUE = {I(VSENSE)*GAIN}\n.ENDS AMETER\n*$
TEXT 1664 160 Left 2 !.SUBCKT SN74LVC1G17 Y A VCC AGND\nXU1 Y A VCC VCC AGND LOGIC_GATE_2PIN_OD_LVC_1i_AND_PP_ST_SN74LVC1G17 \n.ENDS \n \n \n \n \n \n.SUBCKT LOGIC_GATE_2PIN_OD_LVC_1i_AND_PP_ST_SN74LVC1G17 OUT A B VCC GND\n \n.PARAM VCC_ABS_MAX = 6.5 \n.PARAM VCC_MAX = 5.5 \n.PARAM RA = 220000000 \n.PARAM RB = 220000000 \n.PARAM CA = 4.5e-12 \n.PARAM CB = 4.5e-12 \n.PARAM ROEZ = 5500000 \n.PARAM COEZ = 6e-12 \nRA  A  GND {RA} \nRB  B  GND {RB} \nCA  A  GND {CA} \nCB  B  GND {CB} \nXUA NA A VCC GND LOGIC_INPUT_LVC_1i_AND_PP_ST_SN74LVC1G17 \nXUB NB B VCC GND LOGIC_INPUT_LVC_1i_AND_PP_ST_SN74LVC1G17 \nXUG NA NB NOUTG VCC GND LOGIC_FUNCTION_2_LVC_1i_AND_PP_ST_SN74LVC1G17 \nXOUTPD NOUTG NOUTTPD VCC GND TPD_LVC_1i_AND_PP_ST_SN74LVC1G17 \nXUOUT NOUTTPD NOUT_INT VCC GND LOGIC_PP_OUTPUT_LVC_1i_AND_PP_ST_SN74LVC1G17 \nXICC VCC GND NVIOUT LOGIC_ICC_LVC_1i_AND_PP_ST_SN74LVC1G17 \nSICC VCC GND VCC GND SW1 \nH1 NVIOUT GND VIOUT 1  \nVIOUT NOUT_INT OUTsw 0  \nSIOFF OUTsw OUT VCC GND SW2 \nDA2 GND A D1 \nDB2 GND B D1 \nDO2 GND OUT D1 \nRDA1 NA1 GND 1e6\nSDA1 NA1 A VCC GND SW2\nRDB1 NB1 GND 1e6\nSDB1 NB1 B VCC GND SW2\nRDO1 NO1 GND 1e6\nSDO1 NO1 OUT VCC GND SW2\n.MODEL SW1 VSWITCH VON = {VCC_ABS_MAX} VOFF = {VCC_MAX} RON = 10 ROFF = 60e6 \n.MODEL SW2 VSWITCH VON = {0.55} VOFF = {0.45} RON = 10m ROFF = 100e6 \n.MODEL D1 D \n.ENDS \n.SUBCKT LOGIC_INPUT_LVC_1i_AND_PP_ST_SN74LVC1G17 OUT IN VCC VEE\n.PARAM STANDARD_INPUT_SELECT = 0 \n \n.PARAM SCHMITT_TRIGGER_INPUT_SELECT = 1 \nESTD_THR VSTD_THR VEE TABLE {V(VCC,VEE)} = \n+(1,0.5) \n+(1.8,0.9) \n+(2.5,1.25) \n+(3.3,1.65) \n+(5,2.5) \n+(6,3) \nETRP_P VTRP_P VEE TABLE {V(VCC,VEE)} = \n+(1.65,0.9) \n+(2.3,1.25) \n+(3,1.7) \n+(4.5,2.45) \n+(5.5,3) \nETRP_N VTRP_N VEE TABLE {V(VCC,VEE)} = \n+(1.65,0.45) \n+(2.3,0.7) \n+(3,1.05) \n+(4.5,1.72) \n+(5.5,2.1) \nEHYST VHYST VEE TABLE {V(VCC,VEE)} = \n+(1.65,0.45) \n+(2.3,0.55) \n+(3,0.65) \n+(4.5,0.73) \n+(5.5,0.9) \nETRUE NTRUE VEE VALUE = {V(VCC,VEE)} \nEFALSE NFALSE VEE VALUE = {0} \nEBETA BETA VEE VALUE = {V(VHYST,VEE)/(V(NTRUE,VEE) - V(NFALSE,VEE) + V(VHYST,VEE))} \nEFB NFB VEE VALUE = {(1 - V(BETA,VEE))*V(IN,VEE) + V(BETA,VEE)*V(CURR_OUT,VEE)} \nEREF NREF VEE VALUE = {0.5*(1 - V(BETA,VEE))*(V(VTRP_P,VEE) + V(VTRP_N,VEE))  \n+ + 0.5*V(BETA,VEE)*(V(NTRUE,VEE) + V(NFALSE,VEE))} \nEDIFF NDIFF VEE VALUE = {V(NFB,NREF)} \nESWITCH VSWITCH VEE VALUE = {0.5*(-SGN(V(NDIFF,VEE)) + ABS(SGN(V(NDIFF,VEE))))} \nESWITCH1 VSWITCH1 VEE VALUE = {0.5*(SGN(V(NDIFF,VEE)) + ABS(SGN(V(NDIFF,VEE))))} \nGCOMP VEE CURR_OUT VALUE = {SCHMITT_TRIGGER_INPUT_SELECT*0.5*V(VCC,VEE)*(SGN(V(NDIFF,VEE)) + ABS(SGN(V(NDIFF,VEE))))} \nGSTD VEE CURR_OUT VALUE = {STANDARD_INPUT_SELECT*0.5*V(VCC,VEE)*(SGN(V(IN,VSTD_THR)) + ABS(SGN(V(IN,VSTD_THR))))} \nROUT CURR_OUT VEE 1 \nEMID MID VEE VALUE = {0.5*(V(VCC,VEE) + V(VEE))} \nEARG NARG VEE VALUE = {V(CURR_OUT,VEE) - V(MID,VEE)} \nEOUT OUT VEE VALUE = {0.5*(SGN(V(NARG,VEE)) + ABS(SGN(V(NARG,VEE) ) ) )} \n.PARAM MAXICC = 0.032 \n.PARAM VT = .7 \n.PARAM VCC_MIN = 1.65 \n \nEV_VT1 VTN VEE VALUE = { VT } \nEV_VT2 VTP VEE VALUE = { V(VCC,VEE) - VT } \n \nETEST TEST VEE VALUE = {.9*V(VCC,VEE)} \n \nEVTHDIFF VTH_DIFF VEE VALUE = {V(IN,VSTD_THR)} \nEVTHPDIFF VTHP_DIFF VEE VALUE = {V(IN,VTRP_P)} \nEVTHNDIFF VTHN_DIFF VEE VALUE = {V(IN,VTRP_N)} \nEVTNDIFF VTN_DIFF VEE VALUE = { V(IN,VTN) } \nEVTPDIFF VTP_DIFF VEE VALUE = { V(IN,VTP) } \n \n \nGICCVA VCC VEE VALUE = { (-ABS(( (1+SGN(V(VTN_DIFF,VEE)) ) )/2 -1) * \n+ 2*MAXICC*((V(IN,VEE)-VT)/V(VCC,VEE))^2)*(1 + SGN(V(VCC,VEE) - VCC_MIN))*V(VSWITCH,VEE)}\nGICCVB VCC VEE VALUE = { (ABS(( (1+SGN(V(VTHP_DIFF,VEE)) ) )/2 -1) * \n+ 2*MAXICC*((V(IN,VEE)-VT)/V(VCC,VEE))^2)*(1 + SGN(V(VCC,VEE) - VCC_MIN))*V(VSWITCH,VEE)}\nGICCVC VCC VEE VALUE = { ( ABS(  (1+SGN(V(VTHN_DIFF,VEE)) ) )/2  * \n+ 2*MAXICC*((V(IN,VEE)-(V(VCC,VEE)-VT))/V(VCC,VEE))^2)*(1 + SGN(V(VCC,VEE) - VCC_MIN))*V(VSWITCH1,VEE)}\nGICCVD VCC VEE VALUE = { (-ABS(  (1+SGN(V(VTP_DIFF,VEE)) ) )/2  * \n+ 2*MAXICC*((V(IN,VEE)-(V(VCC,VEE)-VT))/V(VCC,VEE))^2)*(1 + SGN(V(VCC,VEE) - VCC_MIN))*V(VSWITCH1,VEE)}\n \n.ENDS \n.SUBCKT LOGIC_FUNCTION_2_LVC_1i_AND_PP_ST_SN74LVC1G17 A B OUT VCC VEE\n.PARAM AND  = 1 \n.PARAM NAND = 0 \n.PARAM OR   = 0 \n.PARAM NOR  = 0 \n.PARAM XOR  = 0 \n.PARAM XNOR = 0 \nGAND  VEE N1 VALUE = {AND*V(A,VEE)*V(B,VEE)} \nGNAND VEE N1 VALUE = {NAND*(1 - V(A,VEE)*V(B,VEE))} \nGOR   VEE N1 VALUE = {OR*(MIN(V(A,VEE) + V(B,VEE),1))} \nGNOR  VEE N1 VALUE = {NOR*(1 - MIN(V(A,VEE) + V(B,VEE),1))} \nGXOR  VEE N1 VALUE = {XOR*((1 - V(A,VEE))*V(B,VEE) + V(A,VEE)*(1 - V(B,VEE)))} \nGXNOR VEE N1 VALUE = {XNOR*(1 - ((1 - V(A,VEE))*V(B,VEE) + V(A,VEE)*(1 - V(B,VEE))))} \nRN1 N1 VEE 1 \nEOUT OUT VEE N1 VEE 1 \n.ENDS \n.SUBCKT TPD_LVC_1i_AND_PP_ST_SN74LVC1G17 IN OUT VCC VEE\n.PARAM TPDELAY1 = 1N \n.PARAM RS = 10K \n.PARAM CS = {-TPDELAY1/(RS*LOG(0.5))} \nETPDNORM NTPDNORM VEE TABLE {V(VCC,VEE)} = \n+(1.8,4.3) \n+(2.5,2.6) \n+(3.3,2.15) \n+(5,1.95) \nG1 IN N1 VALUE = {V(IN,N1)/(V(NTPDNORM,VEE)*RS)} \nRZ IN N1 10G \nC1 N1 VEE {CS} \nE1 N2 VEE VALUE = {0.5*(1 + SGN(V(N1,VEE) - 0.5))} \nEOUT OUT VEE N2 VEE 1 \n.ENDS \n.SUBCKT LOGIC_PP_OUTPUT_LVC_1i_AND_PP_ST_SN74LVC1G17 IN OUT VCC VEE\nEROH NROH VEE TABLE {V(VCC,VEE)} = \n+(1.65,112.5) \n+(2.3,50) \n+(3,37.5) \n+(4.5,21.875) \nEROL NROL VEE TABLE {V(VCC,VEE)} = \n+(1.65,112.5) \n+(2.3,37.5) \n+(3,25) \n+(4.5,17.1875) \nE1 N1 VEE VALUE = {V(VCC,VEE)*V(IN,VEE)} \nGOUT N1 OUT VALUE = {V(N1,OUT)*(V(IN,VEE)/V(NROH,VEE) + (1 - V(IN,VEE))/V(NROL,VEE))} \n.ENDS \n.SUBCKT LOGIC_ICC_LVC_1i_AND_PP_ST_SN74LVC1G17 VCC VEE VIOUT\n.PARAM ICC = 2.5e-07 \n.PARAM VCC_MAX = 5.5 \n.PARAM VCC_MIN = 1.65 \nGICC VCC VEE VALUE = {ICC*0.5*(1 + SGN(V(VCC,VEE) - VCC_MIN))} \nEGNDF GNDF 0 VALUE = {0.5*(V(VCC) + V(VEE))} \nGOUTP VCC GNDF VALUE = {V(VIOUT,VEE)*0.5*(SGN(V(VIOUT,VEE)) + ABS(SGN(V(VIOUT,VEE))))} \nGOUTN GNDF VEE VALUE = {V(VIOUT,VEE)*0.5*(SGN(V(VIOUT,VEE)) + ABS(SGN(V(VIOUT,VEE))))} \n.ENDS
TEXT 3176 144 Left 2 !.SUBCKT SN74LVC1G11 Y A B C VCC AGND\nXU1 Y A B C VCC AGND LOGIC_GATE_3PIN_OD_LVC_3i_AND_PP_CMOS_SN74LVC1G11 \n.ENDS \n \n.SUBCKT LOGIC_GATE_3PIN_OD_LVC_3i_AND_PP_CMOS_SN74LVC1G11 OUT A B C VCC GND\n \n.PARAM VCC_ABS_MAX = 6.5 \n.PARAM VCC_MAX = 5.5 \n.PARAM RA = 220000000 \n.PARAM RB = 220000000 \n.PARAM RC = 220000000 \n.PARAM CA = 4.5e-12 \n.PARAM CB = 4.5e-12 \n.PARAM CC = 4.5e-12 \n.PARAM ROEZ = 5500000 \n.PARAM COEZ = 6e-12 \nRA  A  GND {RA} \nRB  B  GND {RB} \nRC  C  GND {RC} \nCA  A  GND {CA} \nCB  B  GND {CB} \nCC  C  GND {CC} \nXUA NA A VCC GND LOGIC_INPUT_LVC_3i_AND_PP_CMOS_SN74LVC1G11 \nXUB NB B VCC GND LOGIC_INPUT_LVC_3i_AND_PP_CMOS_SN74LVC1G11 \nXUC NC C VCC GND LOGIC_INPUT_LVC_3i_AND_PP_CMOS_SN74LVC1G11 \nXUG NA NB NC NOUTG VCC GND LOGIC_FUNCTION_3_LVC_3i_AND_PP_CMOS_SN74LVC1G11 \nXOUTPD NOUTG NOUTTPD VCC GND TPD_LVC_3i_AND_PP_CMOS_SN74LVC1G11 \nXUOUT NOUTTPD NOUT_INT VCC GND LOGIC_PP_OUTPUT_LVC_3i_AND_PP_CMOS_SN74LVC1G11 \nXICC VCC GND NVIOUT LOGIC_ICC_LVC_3i_AND_PP_CMOS_SN74LVC1G11 \nSICC VCC GND VCC GND SW1 \nH1 NVIOUT GND VIOUT 1  \nVIOUT NOUT_INT OUTsw 0  \nSIOFF OUTsw OUT VCC GND SW2 \nDA2 GND A D1 \nDB2 GND B D1 \nDC2 GND C D1 \nDO2 GND OUT D1 \nRDA1 NA1 GND 1e6\nSDA1 NA1 A VCC GND SW2\nRDB1 NB1 GND 1e6\nSDB1 NB1 B VCC GND SW2\nRDC1 NC1 GND 1e6\nSDC1 NC1 C VCC GND SW2\nRDO1 NO1 GND 1e6\nSDO1 NO1 OUT VCC GND SW2\n.MODEL SW1 VSWITCH VON = {VCC_ABS_MAX} VOFF = {VCC_MAX} RON = 10 ROFF = 60e6 \n.MODEL SW2 VSWITCH VON = {0.55} VOFF = {0.45} RON = 10m ROFF = 100e6 \n.MODEL D1 D \n.ENDS \n.SUBCKT LOGIC_INPUT_LVC_3i_AND_PP_CMOS_SN74LVC1G11 OUT IN VCC VEE\n.PARAM STANDARD_INPUT_SELECT = 1 \n \n.PARAM SCHMITT_TRIGGER_INPUT_SELECT = 0 \nESTD_THR VSTD_THR VEE TABLE {V(VCC,VEE)} = \n+(1,0.5) \n+(1.8,0.9) \n+(2.5,1.25) \n+(3.3,1.65) \n+(5,2.5) \n+(6,3) \nETRP_P VTRP_P VEE TABLE {V(VCC,VEE)} = \n+(1.65,0.9) \n+(2.3,1.25) \n+(3,1.7) \n+(4.5,2.45) \n+(5.5,3) \nETRP_N VTRP_N VEE TABLE {V(VCC,VEE)} = \n+(1.65,0.45) \n+(2.3,0.7) \n+(3,1.05) \n+(4.5,1.72) \n+(5.5,2.1) \nEHYST VHYST VEE TABLE {V(VCC,VEE)} = \n+(1.65,0.45) \n+(2.3,0.55) \n+(3,0.65) \n+(4.5,0.73) \n+(5.5,0.9) \nETRUE NTRUE VEE VALUE = {V(VCC,VEE)} \nEFALSE NFALSE VEE VALUE = {0} \nEBETA BETA VEE VALUE = {V(VHYST,VEE)/(V(NTRUE,VEE) - V(NFALSE,VEE) + V(VHYST,VEE))} \nEFB NFB VEE VALUE = {(1 - V(BETA,VEE))*V(IN,VEE) + V(BETA,VEE)*V(CURR_OUT,VEE)} \nEREF NREF VEE VALUE = {0.5*(1 - V(BETA,VEE))*(V(VTRP_P,VEE) + V(VTRP_N,VEE))  \n+ + 0.5*V(BETA,VEE)*(V(NTRUE,VEE) + V(NFALSE,VEE))} \nEDIFF NDIFF VEE VALUE = {V(NFB,NREF)} \nESWITCH VSWITCH VEE VALUE = {0.5*(-SGN(V(NDIFF,VEE)) + ABS(SGN(V(NDIFF,VEE))))} \nESWITCH1 VSWITCH1 VEE VALUE = {0.5*(SGN(V(NDIFF,VEE)) + ABS(SGN(V(NDIFF,VEE))))} \nGCOMP VEE CURR_OUT VALUE = {SCHMITT_TRIGGER_INPUT_SELECT*0.5*V(VCC,VEE)*(SGN(V(NDIFF,VEE)) + ABS(SGN(V(NDIFF,VEE))))} \nGSTD VEE CURR_OUT VALUE = {STANDARD_INPUT_SELECT*0.5*V(VCC,VEE)*(SGN(V(IN,VSTD_THR)) + ABS(SGN(V(IN,VSTD_THR))))} \nROUT CURR_OUT VEE 1 \nEMID MID VEE VALUE = {0.5*(V(VCC,VEE) + V(VEE))} \nEARG NARG VEE VALUE = {V(CURR_OUT,VEE) - V(MID,VEE)} \nEOUT OUT VEE VALUE = {0.5*(SGN(V(NARG,VEE)) + ABS(SGN(V(NARG,VEE) ) ) )} \n.PARAM MAXICC = 0.032 \n.PARAM VT = .7 \n.PARAM VCC_MIN = 1.65 \n \nEV_VT1 VTN VEE VALUE = { VT } \nEV_VT2 VTP VEE VALUE = { V(VCC,VEE) - VT } \n \nETEST TEST VEE VALUE = {.9*V(VCC,VEE)} \n \nEVTHDIFF VTH_DIFF VEE VALUE = {V(IN,VSTD_THR)} \nEVTHPDIFF VTHP_DIFF VEE VALUE = {V(IN,VTRP_P)} \nEVTHNDIFF VTHN_DIFF VEE VALUE = {V(IN,VTRP_N)} \nEVTNDIFF VTN_DIFF VEE VALUE = { V(IN,VTN) } \nEVTPDIFF VTP_DIFF VEE VALUE = { V(IN,VTP) } \n \n \nGICCVA VCC VEE VALUE = { (-ABS(( (1+SGN(V(VTN_DIFF,VEE)) ) )/2 -1) * \n+ 2*MAXICC*((V(IN,VEE)-VT)/V(VCC,VEE))^2)*(1 + SGN(V(VCC,VEE) - VCC_MIN))*V(VSWITCH,VEE)}\nGICCVB VCC VEE VALUE = { (ABS(( (1+SGN(V(VTHP_DIFF,VEE)) ) )/2 -1) * \n+ 2*MAXICC*((V(IN,VEE)-VT)/V(VCC,VEE))^2)*(1 + SGN(V(VCC,VEE) - VCC_MIN))*V(VSWITCH,VEE)}\nGICCVC VCC VEE VALUE = { ( ABS(  (1+SGN(V(VTHN_DIFF,VEE)) ) )/2  * \n+ 2*MAXICC*((V(IN,VEE)-(V(VCC,VEE)-VT))/V(VCC,VEE))^2)*(1 + SGN(V(VCC,VEE) - VCC_MIN))*V(VSWITCH1,VEE)}\nGICCVD VCC VEE VALUE = { (-ABS(  (1+SGN(V(VTP_DIFF,VEE)) ) )/2  * \n+ 2*MAXICC*((V(IN,VEE)-(V(VCC,VEE)-VT))/V(VCC,VEE))^2)*(1 + SGN(V(VCC,VEE) - VCC_MIN))*V(VSWITCH1,VEE)}\n \n.ENDS \n.SUBCKT LOGIC_FUNCTION_2_LVC_3i_AND_PP_CMOS_SN74LVC1G11 A B OUT VCC VEE\n.PARAM AND  = 1 \n.PARAM NAND = 0 \n.PARAM OR   = 0 \n.PARAM NOR  = 0 \n.PARAM XOR  = 0 \n.PARAM XNOR = 0 \nGAND  VEE N1 VALUE = {AND*V(A,VEE)*V(B,VEE)} \nGNAND VEE N1 VALUE = {NAND*(1 - V(A,VEE)*V(B,VEE))} \nGOR   VEE N1 VALUE = {OR*(MIN(V(A,VEE) + V(B,VEE),1))} \nGNOR  VEE N1 VALUE = {NOR*(1 - MIN(V(A,VEE) + V(B,VEE),1))} \nGXOR  VEE N1 VALUE = {XOR*((1 - V(A,VEE))*V(B,VEE) + V(A,VEE)*(1 - V(B,VEE)))} \nGXNOR VEE N1 VALUE = {XNOR*(1 - ((1 - V(A,VEE))*V(B,VEE) + V(A,VEE)*(1 - V(B,VEE))))} \nRN1 N1 VEE 1 \nEOUT OUT VEE N1 VEE 1 \n.ENDS \n.SUBCKT LOGIC_FUNCTION_3_LVC_3i_AND_PP_CMOS_SN74LVC1G11 A B C OUT VCC VEE\n.PARAM AND  = 1 \n.PARAM NAND = 0 \n.PARAM OR   = 0 \n.PARAM NOR  = 0 \n.PARAM XOR  = 0 \n.PARAM XNOR = 0 \nGAND  VEE N1 VALUE = {AND*V(A,VEE)*V(B,VEE)*V(C,VEE)} \nGNAND VEE N1 VALUE = {NAND*(1 - V(A,VEE)*V(B,VEE)*V(C,VEE))} \nGOR   VEE N1 VALUE = {OR*(MIN(V(A,VEE) + V(B,VEE) + V(C,VEE),1))} \nGNOR  VEE N1 VALUE = {NOR*(1 - MIN(V(A,VEE) + V(B,VEE) + V(C,VEE),1))} \nGXOR  VEE N1 VALUE = {XOR*((1 - V(A,VEE)*V(B,VEE)*V(C,VEE))*(1 - (1 - V(A,VEE))*(1 - V(B,VEE))*(1 - V(C,VEE))))} \nGXNOR VEE N1 VALUE = {XNOR*(1 - ((1 - V(A,VEE)*V(B,VEE)*V(C,VEE))*(1 - (1 - V(A,VEE))*(1 - V(B,VEE))*(1 - V(C,VEE)))))} \nRN1 N1 VEE 1 \nEOUT OUT VEE N1 VEE 1 \n.ENDS \n.SUBCKT TPD_LVC_3i_AND_PP_CMOS_SN74LVC1G11 IN OUT VCC VEE\n.PARAM TPDELAY1 = 1N \n.PARAM RS = 10K \n.PARAM CS = {-TPDELAY1/(RS*LOG(0.5))} \nETPDNORM NTPDNORM VEE TABLE {V(VCC,VEE)} = \n+(1.8,4.3) \n+(2.5,2.6) \n+(3.3,2.15) \n+(5,1.95) \nG1 IN N1 VALUE = {V(IN,N1)/(V(NTPDNORM,VEE)*RS)} \nRZ IN N1 10G \nC1 N1 VEE {CS} \nE1 N2 VEE VALUE = {0.5*(1 + SGN(V(N1,VEE) - 0.5))} \nEOUT OUT VEE N2 VEE 1 \n.ENDS \n.SUBCKT LOGIC_PP_OUTPUT_LVC_3i_AND_PP_CMOS_SN74LVC1G11 IN OUT VCC VEE\nEROH NROH VEE TABLE {V(VCC,VEE)} = \n+(1.65,112.5) \n+(2.3,50) \n+(3,37.5) \n+(4.5,21.875) \nEROL NROL VEE TABLE {V(VCC,VEE)} = \n+(1.65,112.5) \n+(2.3,37.5) \n+(3,25) \n+(4.5,17.1875) \nE1 N1 VEE VALUE = {V(VCC,VEE)*V(IN,VEE)} \nGOUT N1 OUT VALUE = {V(N1,OUT)*(V(IN,VEE)/V(NROH,VEE) + (1 - V(IN,VEE))/V(NROL,VEE))} \n.ENDS \n.SUBCKT LOGIC_ICC_LVC_3i_AND_PP_CMOS_SN74LVC1G11 VCC VEE VIOUT\n.PARAM ICC = 2.5e-07 \n.PARAM VCC_MAX = 5.5 \n.PARAM VCC_MIN = 1.65 \nGICC VCC VEE VALUE = {ICC*0.5*(1 + SGN(V(VCC,VEE) - VCC_MIN))} \nEGNDF GNDF 0 VALUE = {0.5*(V(VCC) + V(VEE))} \nGOUTP VCC GNDF VALUE = {V(VIOUT,VEE)*0.5*(SGN(V(VIOUT,VEE)) + ABS(SGN(V(VIOUT,VEE))))} \nGOUTN GNDF VEE VALUE = {V(VIOUT,VEE)*0.5*(SGN(V(VIOUT,VEE)) + ABS(SGN(V(VIOUT,VEE))))} \n.ENDS
TEXT -64 128 Left 2 !.MODEL APT2012SURCK D (IS=4.291886e-17 RS=2.353504 N=2.186609 EG=1.405 CJO=35p BV=5 IBV=10u )
TEXT -48 -16 Left 2 !.tran 0 10 0 startup uic
TEXT -56 56 Left 2 !.MODEL DI_BAS70 D  ( IS=99.5p RS=0.600 BV=70.0 IBV=10.0u\n+ CJO=2.00p  M=0.333 N=1.70 TT=7.20n )
TEXT 280 -16 Left 2 !.TEMP -40
